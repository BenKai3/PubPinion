<html>
<head>
	<title>PubPinion - Home</title>
	<link rel="stylesheet" type="text/css" href="../../../public/stylesheets/style.css">
	 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.9/angular.min.js"></script>
	 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular-route.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>    
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
</head>
<body>
	<div ng-app='pubpinion'>

		<div id="menu">
			<a href="" id="home_button">?ubPinion</a>
			<a href="" id="post_question">Get the ?ubPinion</a>
			<a href="" id="mypub">My?ub</a>
		</div>

		<div ng-view=""></div>

	</div>
	<script type="text/javascript">
		var pubpinion = angular.module('pubpinion', ['ngRoute']);

		//ROUTES
		pubpinion.config(function($routeProvider){
			$routeProvider
			.when('/', 
				{templateUrl: 'partials/home.html',
				controller: 'pubpinController'})
			.when('/post_question', 
				{templateUrl: 'patials/post_question.html'})
		})
		
		// CONTROLLERS
		pubpinion.controller('pubpinController', function($scope, pubpinFactory){

			//JQUERY
			$(document).ready(function(){

	    		$('#login_reg').hide();

	    		$('#post_question').click(function(){

	    		});

	    		$('#question_button').click(function(){
	    			$('#login_reg').slideToggle();
	    			$('#question_button').fadeOut();
	    		});

	    		$('login_button').click(function(){
	    			io.emit('login', { email: '#login_email', password: '#login_password' });
	    		});

	    		$('reg_button').click(function(){
	    			io.emit('registration', { email: '#reg_email', password: '#reg_password', confirm_password: '#confirm_password' });
	    		});

	    		$('home_button').click(function(){

	    		})

	    		$('question_button').click(function(){

	    		})
			});

			$scope.load();
			$scope.questions = pubpinFactory.get_questions();
			$scope.add_answer = function(answer, question_id){
				pubpinFactory.add_answer(answer.response, question_id.asdfasfasd)
			};
			$scope.reg_user = function(){

			};
		});

		//FACTORY
		pubpinion.factory('pubpinFactory', function(){
			var factory = {};
			var questions = [
			{question: 'Is this really a question generated with angular??', img: '' }];
			factory.get_questions = function(){ console.log('loggin in the factory.get_questions')};
			factory.add_answer = function(){};
			factory.reg_user = function(){};

			return factory;
		});	

	</script>





















</body>
</html>